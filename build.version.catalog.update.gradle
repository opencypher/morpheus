def isNonStable = { String version ->
    def stableKeyword = ['RELEASE', 'FINAL', 'GA'].any { it -> version.toUpperCase().contains(it) }
    def regex = /^[0-9,.v-]+(-r)?$/
    return !stableKeyword && !(version ==~ regex)
}

versionCatalogUpdate {
    // sort the catalog by key (default is true)
    sortByKey = true

    versionSelector {
        // here 'it' is a ModuleVersionCandidate that can be used to determine if the version
        // is allowed, returning true if it is.
        !isNonStable(it.candidate.version)
    }

    keep {
        // keep versions without any library or plugin reference
        keepUnusedVersions = true
    }
}
