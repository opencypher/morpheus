apply plugin: 'ch.kk7.spawn'

description = 'Cypher for Apache Spark - Test Utilities'

dependencies {
    api project(':morpheus-spark-cypher')
    api project(':okapi-testing')
    api project(':okapi-neo4j-io-testing')

    api group: 'org.apache.spark', name: "spark-core".scala(), version: ver.spark
    api group: 'org.apache.spark', name: "spark-sql".scala(), version: ver.spark
    api group: 'org.apache.spark', name: "spark-hive".scala(), version: ver.spark
    api group: 'org.apache.hadoop', name: 'hadoop-minicluster', version: ver.hadoop

    testImplementation project(':okapi-api').sourceSets.test.output
    testImplementation group: 'com.h2database', name: 'h2', version: ver.h2
    testImplementation group: 'org.spire-math', name: 'claimant'.scala(), version: ver.claimant

}

tasks.test.dependsOn(":okapi-neo4j-io-testing:neo4jStart")
tasks.test.finalizedBy(":okapi-neo4j-io-testing:neo4jStop")
